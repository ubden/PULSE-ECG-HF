# Core ML dependencies - PULSE-7B requires development transformers for llava_llama architecture
# Note: Stable transformers doesn't support llava_llama yet, using development version
git+https://github.com/huggingface/transformers.git
torch>=2.1.0
accelerate>=0.25.0
sentencepiece
safetensors
protobuf

# Image processing dependencies
Pillow>=9.0.0
requests>=2.28.0

# LLaVA/Vision model dependencies
timm>=0.9.0

# PULSE-7B specific dependencies (LLaVA implementation)
# Install PULSE's LLaVA implementation for proper model loading
git+https://github.com/AIMedLab/PULSE.git#subdirectory=LLaVA

# Optional performance improvements
flash-attn>=2.0.0; sys_platform != "darwin"
bitsandbytes>=0.41.0; sys_platform != "darwin"

# Utility libraries
numpy>=1.21.0
typing-extensions>=4.0.0
psutil>=5.8.0

# HuggingFace Inference specific
huggingface-hub>=0.16.0

# Alternative: Install from source if stable version doesn't work
# Uncomment the line below if you get llava_llama architecture errors:
# git+https://github.com/huggingface/transformers.git